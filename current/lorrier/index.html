<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- 20111122 0939 -->

    <link rel="stylesheet" href="/docs/assets/css/main.css" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script>

    var site = {
      baseurl: '/docs',
      local: (document.location.port || document.location.protocol === 'file:')
    };

    (function(canonical) {
      if (!site.local && document.location.href.substr(0, document.location.href.length - document.location.hash.length) !== canonical) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/current/lorrier/');

    </script>

    <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Lorrier LR2 - The Things Network</title>
<meta property="og:title" content="Lorrier LR2" />
<meta name="description" content="Lorrier LR2 is an improved carrier grade gateway for building professional IoT network based on LoRaWAN™ protocol. This is a fully outdoor device intended to establish a wide coverage network by telecommunications operators and local network by individuals or IoT connectivity service providers." />
<meta property="og:description" content="Lorrier LR2 is an improved carrier grade gateway for building professional IoT network based on LoRaWAN™ protocol. This is a fully outdoor device intended to establish a wide coverage network by telecommunications operators and local network by individuals or IoT connectivity service providers." />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/current/lorrier/" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/current/lorrier/" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/current/lorrier/lorrier.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-12-05T12:36:30+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Lorrier LR2",
"image": "https://www.thethingsnetwork.org/docs/current/lorrier/lorrier.png",
"datePublished": "2016-12-05T12:36:30+00:00",
"description": "Lorrier LR2 is an improved carrier grade gateway for building professional IoT network based on LoRaWAN™ protocol. This is a fully outdoor device intended to establish a wide coverage network by telecommunications operators and local network by individuals or IoT connectivity service providers.",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "https://www.thethingsnetwork.org/docs/assets/images/the-things-white.png"}},
"url": "https://www.thethingsnetwork.org/docs/current/lorrier/"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="apple-touch-icon-precomposed" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Building a Global Internet of Things Network Together.">
    <meta name="msapplication-config" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/ieconfig.xml">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-32.png" sizes="32x32">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-57.png" sizes="57x57">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-76.png" sizes="76x76">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-96.png" sizes="96x96">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-120.png" sizes="120x120">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-128.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png" sizes="144x144">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png" sizes="152x152">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-180.png" sizes="180x180">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-195.png" sizes="195x195">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-228.png" sizes="228x228">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/smalltile.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/mediumtile.png" sizes="270x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/widetile.png" sizes="558x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-196.png">
      
  </head>
  <body>

    <div id="content">
      










<div id="top" class="layout-guide container">

  <div class="row guide-nav">
    <div class="col-sm-9">
      <ol class="breadcrumb">
        <li><a href="http://www.thethingsnetwork.org/">Home</a></li>
        <li><a href="/docs/">Learn</a></li>
        
        <li class="active">Lorrier LR2</li>
      </ol>
    </div>
    <div class="col-sm-3 text-right">
      <a class="btn btn-default hidden-xs" href="http://github.com/TheThingsNetwork/docs/edit/master/_includes/current/lorrier.md" target="_blank"><i class="fa fa-pencil"></i> Improve this guide</a>
    </div>
  </div>

  <div class="row">

    <div class="col-md-3" role="complementary">

      <div class="guide-switch btn-group btn-block">
        <button type="button" class="btn btn-primary btn-block dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Guides <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          
            
            
              
                <li class="disabled"><a href="#">
              
              The Things Node
              
              </a></li>
            
              
                <li><a href="/docs/current/uno/">
              
              The Things Uno
              
              </a></li>
            
              
                <li><a href="/docs/current/arduino/">
              
              Arduino
              <span class="label label-info">SDK</span>
              </a></li>
            
              
                <li class="disabled"><a href="#">
              
              Other Devices
              
              </a></li>
            
          
            <li role="separator" class="divider"></li>
            
              
                <li class="disabled"><a href="#">
              
              The Things Gateway
              
              </a></li>
            
              
                <li><a href="/docs/current/multitech/">
              
              MultiTech Conduit
              
              </a></li>
            
              
                <li class="active"><a href="/docs/current/lorrier/">
              
              Lorrier LR2
              
              </a></li>
            
              
                <li class="disabled"><a href="#">
              
              Other Gateways
              
              </a></li>
            
          
            <li role="separator" class="divider"></li>
            
              
                <li><a href="/docs/current/dashboard/">
              
              The Things Dashboard
              
              </a></li>
            
              
                <li><a href="/docs/current/cli/">
              
              The Things CLI
              
              </a></li>
            
              
                <li><a href="https://www.thethingsnetwork.org/wiki/Backend/Overview">
              
              Architecture
              
              </a></li>
            
          
            <li role="separator" class="divider"></li>
            
              
                <li><a href="/docs/current/mqtt/">
              
              MQTT
              <span class="label label-info">API</span>
              </a></li>
            
              
                <li><a href="/docs/current/node-js/">
              
              Node.js
              <span class="label label-info">SDK</span>
              </a></li>
            
              
                <li><a href="/docs/current/node-red/">
              
              Node-RED
              <span class="label label-info">SDK</span>
              </a></li>
            
              
                <li><a href="/docs/v2-preview/java/">
              
              Java
              <span class="label label-info">SDK</span>
              </a></li>
            
              
                <li class="disabled"><a href="#">
              
              Other Platforms
              
              </a></li>
            
          
        </ul>
      </div>

      <div class="guide-sidebar hidden-xs hidden-sm">

        <div class="js-toc"></div>

        <p class="guide-top"><a href="#top">Back to top</a></p>

      </div>

    </div>

    <div class="col-md-9 js-toc-content content-body" role="main">

      

      
      

      <section class="panel">
        <div class="panel-body">
          <span class="label label-success pull-right">CURRENT: V1-STAGING</span>
          <h1>Lorrier LR2</h1>
          <p><a href="https://lorrier.com/#introducing-lr2">Lorrier LR2</a> is an improved carrier grade gateway for building professional IoT network based on LoRaWAN™ protocol. This is a fully outdoor device intended to establish a wide coverage network by telecommunications operators and local network by individuals or IoT connectivity service providers.</p>

<p>This guide will help you set up the gateway for The Things Network.</p>

<p><img src="lorrier.png" alt="Lorrier LR2" /></p>

        </div>
        
      </section>

      
        <section class="panel panel-inverse ambassador">
          <div class="panel-body">
            <div class="media">
              <div class="media-left">
                <a href="https://www.thethingsnetwork.org/u/wdebbaut/"><img src="https://account.thethingsnetwork.org/api/users/wdebbaut/picture.jpg" alt="Wim Debbaut" class="img-circle" /></a>
              </div>
              <div class="media-body">
                
                  This guide is maintained by our ambassador <a href="https://www.thethingsnetwork.org/u/wdebbaut" target="_blank">Wim Debbaut</a>.
                
                <p><small>Become an ambassador and help us support more devices! <a href="mailto:fokke@thethingsnetwork.org">Drop us a line!</a></small></p>
              </div>
            </div>
          </div>
        </section>
      

      
        
        
        <section class="panel">
          <div class="panel-body">
            <h1 id="general-setup">General Setup</h1>

<p>This guide follows most of the <a href="https://github.com/lorriercom/lorrier-lr2/blob/master/LR2_Quick_Settings.md">LR2 Quick Settings Guide</a>. For more details and troubleshooting see the documentation in the <a href="https://github.com/lorriercom/lorrier-lr2">Lorrier LR2 Repository</a>.</p>

<ol>
  <li>
    <p>Connect the antenna to your LR2.</p>

    <blockquote>
      <p>Connecting the LR2 to power (over ethernet) without antenna or appropriate attenuator connected will damage the device.</p>
    </blockquote>
  </li>
  <li>
    <p>Connect your LR2 to the ethernet and power using the enclosed POE (Power Over Ethernet) adapter. Booting takes about 60 seconds.</p>

    <blockquote>
      <p>The casing does not have external LEds. There have been cases where the LED on the POE adapter was on while the LR2 itself wasn’t. If the next steps fail, open the casing to verify the LEDs on the boards are also on. If they are not, connect the power directly to the board and order anew POE adapter.</p>
    </blockquote>
  </li>
  <li>
    <p>The LR2 by default is configured with <code class="highlighter-rouge">192.168.1.2</code> as static IP address. If this doesn’t match the IP range of the network you will connect it to, you will need to change this first.</p>

    <ul>
      <li>Follow <a href="#change-static-ip-address">Change Static IP Address</a> if needed.</li>
    </ul>
  </li>
  <li>
    <p>If you’re not connected via Winbox tools already to change the IP address then <a href="#connect-via-winbox-tools">do so now</a> to change your password.</p>

    <ul>
      <li>Go to <strong>System &gt; Password</strong>.</li>
      <li>The default password is <code class="highlighter-rouge">lorrier</code>.</li>
    </ul>
  </li>
  <li>
    <p>Change your BeagleBone Green (BBG) passwords.</p>

    <ol>
      <li>
        <p>Connect to the LR2 via <a href="https://help.ubnt.com/hc/en-us/articles/218850057-Back-to-Basics-How-to-Establish-a-Connection-Using-SSH">SSH</a>.</p>

        <ul>
          <li>As address use the LR2’s (new) static IP plus <code class="highlighter-rouge">:2222</code> for the port.</li>
          <li>The default username is <code class="highlighter-rouge">root</code> and password <code class="highlighter-rouge">lorrier</code>.</li>
        </ul>
      </li>
      <li>
        <p>To change the passwords type <code class="highlighter-rouge">passwd root</code> and <code class="highlighter-rouge">passwd debian</code>.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Continue to <a href="#gateway-configuration">Gateway Configuration</a>.</p>
  </li>
</ol>

          </div>
        </section>
      
        
        
        <section class="panel">
          <div class="panel-body">
            <h1 id="gateway-configuration">Gateway Configuration</h1>

<ol>
  <li>
    <p>Open the LR2 web interface in your browser.</p>

    <ul>
      <li>As address use the LR2’s (new) static IP.</li>
      <li>You might need to authorize the safety certificate.</li>
    </ul>
  </li>
  <li>
    <p>Login with the defaults username <code class="highlighter-rouge">admin</code> and password `lorrier.</p>
  </li>
  <li>
    <p>You will be asked to select your <strong>Forwarder / Service</strong>. If you come back later, select <strong>Forwarder</strong> from the left menu. Then select <strong>The Things Network Servers EU 863-870 Mhz</strong> and click <strong>Save settings</strong>:</p>

    <p><img src="forwarder.png" alt="Forwarder / Service" /></p>
  </li>
  <li>
    <p>On the next screen let the LR2 generate a Gateway ID or set one manual and click <strong>Save settings</strong>:</p>

    <p><img src="id.png" alt="Gateway ID" /></p>
  </li>
  <li>
    <p>When you get back to the dashboard, take note of the generated Gateway ID:</p>

    <p><img src="dashboard.png" alt="Dashboard" /></p>
  </li>
  <li>
    <p>In the left menu, select <strong>Preferences</strong> to change the default password:</p>

    <p><img src="password.jpg" alt="Preferences" /></p>
  </li>
  <li>
    <p>Go back to the <strong>Dashboard</strong> and click <strong>Apply settings &amp; Reboot</strong></p>
  </li>
  <li>
    <p><a href="https://www.thethingsnetwork.org/g/new/edit">Register your gateway</a> using the Gateway ID.</p>
  </li>
</ol>

<p>👏 Your gateway is now connected to The Things Network!</p>


          </div>
        </section>
      
        
        
        <section class="panel">
          <div class="panel-body">
            <h1 id="connect-via-winbox-tools">Connect via Winbox Tools</h1>
<p>While most configuration can be done via the LR2 web interface, some things like changing its static IP address or password need to be done via Winbox Tools.</p>

<ol>
  <li>Download the Winbox tools via the links in the <a href="https://github.com/lorriercom/lorrier-lr2/blob/master/routeros/routerboard_configuration.md#routerboard-configuration">Routerboard configuration guide</a>.</li>
  <li>
    <p>Use the <strong>Neighbors</strong> tab to find your LR2:</p>

    <p><img src="neighbors.png" alt="Neighbors" /></p>
  </li>
  <li>
    <p>Enter your login as password and <strong>Connect</strong>.</p>

    <blockquote>
      <p>The default login is <code class="highlighter-rouge">admin</code> and the default password is <code class="highlighter-rouge">lorrier</code>.</p>
    </blockquote>
  </li>
</ol>

          </div>
        </section>
      
        
        
        <section class="panel">
          <div class="panel-body">
            <h1 id="change-static-ip-address">Change Static IP Address</h1>
<p>To check the network’s IP range, connect your computer and <a href="https://kb.iu.edu/d/aapa">find its IP address</a>. The first 3 numbers have to match that of the LR2. If they don’t, you’ll need to change the static IP address for the LR2 to be able to connect to the internet.</p>

<ol>
  <li>Connect to the LR2 via <a href="#connect-via-winbox-tools">Winbox Tools</a>.</li>
  <li>
    <p>Go to <strong>IP &gt; Addresses</strong> and double-click the <strong>ether1_wan</strong> row:</p>

    <p><img src="ip-addresses.png" alt="IP &gt; Addresses" /></p>
  </li>
  <li>
    <p>Set <strong>Address</strong> to a static IP address within your network range and end with <code class="highlighter-rouge">/24</code>. Set <strong>Network</strong> to the same address but with <code class="highlighter-rouge">0</code> as last number:</p>

    <p><img src="ip-address.png" alt="Address" /></p>

    <blockquote>
      <p>You probably also have a DHCP server on your network so make sure to use an IP outside the range it uses to hand out dynamic IP addresses.</p>
    </blockquote>
  </li>
  <li>
    <p>Go to <strong>IP &gt; Routes</strong> and double-click the <strong>0.0.0.0/0</strong> row:</p>

    <p><img src="ip-routes.png" alt="IP &gt; Routes" /></p>
  </li>
  <li>
    <p>Set <strong>Gateway</strong> to <a href="http://www.noip.com/support/knowledgebase/finding-your-default-gateway/">your network’s gateway IP address</a>. In most cases this identical to your local IP with <code class="highlighter-rouge">1</code> as last number.</p>

    <p><img src="ip-route.png" alt="Route" /></p>
  </li>
</ol>

          </div>
        </section>
      

    </div>

  </div>
</div>

<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>

    </div>

    <script src="/docs/assets/js/bundle.js"></script>
    <script src="https://www.thethingsnetwork.org/navbar.js"></script>
    <script src="https://ttnstaticfile.blob.core.windows.net/static/common/js/ga.js"></script>

  </body>
</html>
