<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!-- 20111122 0939 -->

    <link rel="stylesheet" href="/docs/assets/css/main.css" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script>

    var site = {
      baseurl: '/docs',
      local: (document.location.port || document.location.protocol === 'file:')
    };

    (function(canonical) {
      if (!site.local && document.location.href.substr(0, document.location.href.length - document.location.hash.length) !== canonical) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/draft/build-integration/');

    </script>

    <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Build a Platform Integration - The Things Network</title>
<meta property="og:title" content="Build a Platform Integration" />
<meta name="description" content="An application can integrate The Things Network in different ways. This guide lays out the different options and documents how to build an integration for your platform." />
<meta property="og:description" content="An application can integrate The Things Network in different ways. This guide lays out the different options and documents how to build an integration for your platform." />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/draft/build-integration/" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/draft/build-integration/" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/the-things-white.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-12-08T09:46:30+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Build a Platform Integration",
"image": "https://www.thethingsnetwork.org/docs/assets/images/the-things-white.png",
"datePublished": "2016-12-08T09:46:30+00:00",
"description": "An application can integrate The Things Network in different ways. This guide lays out the different options and documents how to build an integration for your platform.",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "https://www.thethingsnetwork.org/docs/assets/images/the-things-white.png"}},
"url": "https://www.thethingsnetwork.org/docs/draft/build-integration/"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="apple-touch-icon-precomposed" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Building a Global Internet of Things Network Together.">
    <meta name="msapplication-config" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/ieconfig.xml">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-32.png" sizes="32x32">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-57.png" sizes="57x57">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-76.png" sizes="76x76">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-96.png" sizes="96x96">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-120.png" sizes="120x120">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-128.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png" sizes="144x144">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png" sizes="152x152">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-180.png" sizes="180x180">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-195.png" sizes="195x195">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-228.png" sizes="228x228">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/smalltile.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/mediumtile.png" sizes="270x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/widetile.png" sizes="558x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-196.png">
      
  </head>
  <body>

    <div id="content">
      










<div id="top" class="layout-guide container">

  <div class="row guide-nav">
    <div class="col-sm-9">
      <ol class="breadcrumb">
        <li><a href="http://www.thethingsnetwork.org/">Home</a></li>
        <li><a href="/docs/">Learn</a></li>
        
        <li class="active">Build a Platform Integration</li>
      </ol>
    </div>
    <div class="col-sm-3 text-right">
      <a class="btn btn-default hidden-xs" href="http://github.com/TheThingsNetwork/docs/edit/master/_includes/draft/build-integration.md" target="_blank"><i class="fa fa-pencil"></i> Improve this guide</a>
    </div>
  </div>

  <div class="row">

    <div class="col-md-3" role="complementary">

      <div class="guide-switch btn-group btn-block">
        <button type="button" class="btn btn-primary btn-block dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Guides <span class="caret"></span></button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          
            
            
              
                <li class="disabled"><a href="#">
              
              The Things Node
              
              </a></li>
            
              
                <li><a href="/docs/current/uno/">
              
              The Things Uno
              
              </a></li>
            
              
                <li><a href="/docs/current/arduino/">
              
              Arduino
              <span class="label label-info">SDK</span>
              </a></li>
            
              
                <li class="disabled"><a href="#">
              
              Other Devices
              
              </a></li>
            
          
            <li role="separator" class="divider"></li>
            
              
                <li class="disabled"><a href="#">
              
              The Things Gateway
              
              </a></li>
            
              
                <li><a href="/docs/current/multitech/">
              
              MultiTech Conduit
              
              </a></li>
            
              
                <li><a href="/docs/current/lorrier/">
              
              Lorrier LR2
              
              </a></li>
            
              
                <li class="disabled"><a href="#">
              
              Other Gateways
              
              </a></li>
            
          
            <li role="separator" class="divider"></li>
            
              
                <li><a href="/docs/current/dashboard/">
              
              The Things Dashboard
              
              </a></li>
            
              
                <li><a href="/docs/current/cli/">
              
              The Things CLI
              
              </a></li>
            
              
                <li><a href="https://www.thethingsnetwork.org/wiki/Backend/Overview">
              
              Architecture
              
              </a></li>
            
          
            <li role="separator" class="divider"></li>
            
              
                <li><a href="/docs/current/mqtt/">
              
              MQTT
              <span class="label label-info">API</span>
              </a></li>
            
              
                <li><a href="/docs/current/node-js/">
              
              Node.js
              <span class="label label-info">SDK</span>
              </a></li>
            
              
                <li><a href="/docs/current/node-red/">
              
              Node-RED
              <span class="label label-info">SDK</span>
              </a></li>
            
              
                <li><a href="/docs/v2-preview/java/">
              
              Java
              <span class="label label-info">SDK</span>
              </a></li>
            
              
                <li class="disabled"><a href="#">
              
              Other Platforms
              
              </a></li>
            
          
        </ul>
      </div>

      <div class="guide-sidebar hidden-xs hidden-sm">

        <div class="js-toc"></div>

        <p class="guide-top"><a href="#top">Back to top</a></p>

      </div>

    </div>

    <div class="col-md-9 js-toc-content content-body" role="main">

      
        <div class="alert alert-warning"><strong>Attention:</strong> You are reading the <small>DRAFT</small>  version of this guide. </div>
      

      
      

      <section class="panel">
        <div class="panel-body">
          <span class="label label-success pull-right">DRAFT</span>
          <h1>Build a Platform Integration</h1>
          <p>An application can integrate The Things Network in different ways. This guide lays out the different options and documents how to build an integration for your platform.</p>

<p>Contact <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#106;&#111;&#104;&#097;&#110;&#064;&#116;&#104;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#110;&#101;&#116;&#119;&#111;&#114;&#107;&#046;&#111;&#114;&#103;">&#106;&#111;&#104;&#097;&#110;&#064;&#116;&#104;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#110;&#101;&#116;&#119;&#111;&#114;&#107;&#046;&#111;&#114;&#103;</a> for more information.</p>

        </div>
        
      </section>

      

      
        
        
        <section class="panel">
          <div class="panel-body">
            <h1 id="integration-options">Integration Options</h1>
<p>An application can integrate The Things Network in different ways:</p>

<h2 id="apis">1. APIs</h2>
<p>In the most basic scenario, the application uses standard protocol libraries to connect directly to The Things Network’s Handler APIs:</p>

<p><img src="apis.png" alt="APIs" /></p>

<h3 id="data-api">Data API</h3>
<p>The Data API allow you to receive events and messages from devices as well as send messages to devices. You can use the Data API via:</p>

<ul>
  <li><a href="../../current/mqtt/">MQTT</a></li>
  <li>AMQP (coming)</li>
</ul>

<h3 id="application-manager-api">Application Manager API</h3>
<p>The Application Manager API let you manage applications and devices registered to it. You can use the Data API via:</p>

<ul>
  <li>gRPC (to be documented)</li>
  <li><a href="/docs/draft/application-manager/">HTTP</a></li>
</ul>

<h2 id="sdk">2. SDK</h2>

<p>We intend to SDKs for popular platforms such as <a href="../../current/node-js">Node.js</a> and <a href="../../v2-preview/java">Java</a>. These SDKs provide a layer of abstraction to make it easier to interact with the APIs:</p>

<p><img src="sdks.png" alt="SDK" /></p>

<blockquote>
  <p>SDKs may not wrap all available APIs.</p>
</blockquote>

<p>If you’d like to contribute to a SDK, contact <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#102;&#111;&#107;&#107;&#101;&#064;&#116;&#104;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#110;&#101;&#116;&#119;&#111;&#114;&#107;&#046;&#111;&#114;&#103;">&#102;&#111;&#107;&#107;&#101;&#064;&#116;&#104;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#110;&#101;&#116;&#119;&#111;&#114;&#107;&#046;&#111;&#114;&#103;</a>.</p>

<h2 id="http-integration">3. HTTP Integration</h2>

<p>Some platforms do not allow users to run code. Good examples are <a href="https://ifttt.com/maker">IFTTT</a> and <a href="https://zapier.com/zapbook/webhook/">Zapier</a>. For these situations we provide an HTTP Integration which acts as a bridge between the Handler Data API and HTTP.</p>

<p>Simply configure it with HTTP requests to forward device messages and events to. It also provides you with a unique HTTP endpoint to send messages to devices.</p>

<p><img src="http.png" alt="HTTP Integration" /></p>

<p>For some platforms we provide a configuration template. Instead of directly configuring the HTTP requests, we ask you only for variables like a platform key and generate the configuration for you.</p>

<p>If you’d like to see a configuration template for your platform, contact <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#106;&#111;&#104;&#097;&#110;&#064;&#116;&#104;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#110;&#101;&#116;&#119;&#111;&#114;&#107;&#046;&#111;&#114;&#103;">&#106;&#111;&#104;&#097;&#110;&#064;&#116;&#104;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#110;&#101;&#116;&#119;&#111;&#114;&#107;&#046;&#111;&#114;&#103;</a>.</p>

<h2 id="platform-integration">4. Platform Integration</h2>

<p>The most advanced way is a Platform Integration. An integration uses the same APIs or SDKs an application could use directly. Together with the private or public APIs of the platform it ties up the application running on the platform with The Things Network:</p>

<p><img src="integration.png" alt="Platform Integration" /></p>

<p>Platform Integrations can completely hide the user from any code and even The Things Network Console or CLI. A good example is an integration for Azure IoT Hub or Amazon IoT, where the user could manage his application and devices from there, while the integration takes care of synchronizing with The Things Network.</p>

          </div>
        </section>
      
        
        
        <section class="panel">
          <div class="panel-body">
            <h1 id="building-the-integration">Building the Integration</h1>
<p>Building a Platform Integration is not much different from building an application. It uses the same Handler Data and Application Manager APIs or SDK.</p>

<p>But now, the user’s application lives on your platform and the integration uses our APIs and the private or public APIs of your platform to tie them together.</p>

<p>Here’s an example architecture for a typical integration:</p>

<p><img src="integration-architecture.png" alt="Integration Architecture" /></p>

<p>This example uses one of our SDKs for the Data API while talking directly to the Application Manager API. As you can see it also uses the Account Server API to exchange the Access Key it is provisioned with for an Access Token. This improves the performance and stability of the Application Manager API.</p>

<p>See the <a href="#api-references">API References</a> for more information. Each reference also lists the available SDKs that include the API.</p>

          </div>
        </section>
      
        
        
        <section class="panel">
          <div class="panel-body">
            <h1 id="hosting-the-integration">Hosting the integration</h1>
<p>Of course you can choose to host the Platform Integration yourself. You will have full control over the architecture and won’t have to share the code with us.</p>

<p>However, if you choose to host the Platform Integration with us, then users will see it listed in The Things Network Console and can configure and deploy it with the click of a button.</p>

<p>Contact <a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#106;&#111;&#104;&#097;&#110;&#064;&#116;&#104;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#110;&#101;&#116;&#119;&#111;&#114;&#107;&#046;&#111;&#114;&#103;">&#106;&#111;&#104;&#097;&#110;&#064;&#116;&#104;&#101;&#116;&#104;&#105;&#110;&#103;&#115;&#110;&#101;&#116;&#119;&#111;&#114;&#107;&#046;&#111;&#114;&#103;</a> if you are interested.</p>

<h2 id="requirements">Requirements</h2>
<p>You can host your platform integration on The Things Network Integration Platform under the following conditions:</p>

<ol>
  <li>You must share the source code with us, either public or private.</li>
  <li>The configuration must be done via environment variables.</li>
  <li>The service must meet our standards for efficiency and stability.</li>
</ol>

<h2 id="one-container-per-application">One container per application</h2>
<p>For each hosted integration a user selects for his or her application we spin up a new container. The container will be provisioned with the generic image of your integration and the application-specific configuration, via environment variables.</p>

<h2 id="environment-variables">Environment Variables</h2>
<p>Each container is provisioned with 3 groups of environment variables:</p>

<ul>
  <li>Integration-specific generic variables like your API endpoint.</li>
  <li>Application-specific system variables like the application ID, Key and Access Key the integration was activated for.</li>
  <li>Application-specific user variables like his or her key for your API.</li>
</ul>

<p>When you decide to host your integration with us we will ask you for these variables. For the user variables we also require descriptions to go with the form we will present to the user.</p>

          </div>
        </section>
      
        
        
        <section class="panel">
          <div class="panel-body">
            <h1 id="api-references">API References</h1>
<p>For a complete reference of all related APIs see:</p>

<ul>
  <li>Handler Data <a href="../../current/mqtt/">MQTT</a> and AMQP API (coming)</li>
  <li><a href="/docs/draft/application-manager">Handler Application Manager APIs</a></li>
  <li><a href="/docs/draft/account/">Account Server API</a></li>
</ul>

          </div>
        </section>
      

    </div>

  </div>
</div>

<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>

    </div>

    <script src="/docs/assets/js/bundle.js"></script>
    <script src="https://www.thethingsnetwork.org/navbar.js"></script>
    <script src="https://ttnstaticfile.blob.core.windows.net/static/common/js/ga.js"></script>

  </body>
</html>
