<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="stylesheet" href="/docs/assets/css/main.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    (function(canonical) {
      if (document.location.href.substr(0, document.location.href.length - document.location.hash.length) !== canonical) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/applications/Cayenne/');
    </script>
    <!-- Begin Jekyll SEO tag v2.2.3 -->
<title>Cayenne Integration | The Things Network</title>
<meta property="og:title" content="Cayenne Integration" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="myDevices Cayenne" />
<meta property="og:description" content="myDevices Cayenne" />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/applications/Cayenne/" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/applications/Cayenne/" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-10-25T21:41:26+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"@context":"http://schema.org","@type":"BlogPosting","headline":"Cayenne Integration","image":"https://www.thethingsnetwork.org/docs/assets/images/og-image.png","datePublished":"2017-10-25T21:41:26+00:00","dateModified":"2017-10-25T21:41:26+00:00","description":"myDevices Cayenne","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png"}},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.thethingsnetwork.org/docs/applications/Cayenne/"},"url":"https://www.thethingsnetwork.org/docs/applications/Cayenne/"}</script>
<!-- End Jekyll SEO tag -->
    <link rel="apple-touch-icon-precomposed" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Building a Global Internet of Things Network Together.">
    <meta name="msapplication-config" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/ieconfig.xml">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-32.png" sizes="32x32">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-57.png" sizes="57x57">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-76.png" sizes="76x76">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-96.png" sizes="96x96">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-120.png" sizes="120x120">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-128.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png" sizes="144x144">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png" sizes="152x152">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-180.png" sizes="180x180">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-195.png" sizes="195x195">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-228.png" sizes="228x228">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/smalltile.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/mediumtile.png" sizes="270x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/widetile.png" sizes="558x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-196.png">
    <script src="/docs/assets/js/main.js"></script>
  </head>
  <body>
    <div id="content">
<div class="layout-page">
  <div class="ttn-header ttn-header-small">
    <div class="ttn-container container-fluid">
      <h1>
        <img src="/docs/assets/images/the-things-white.png" alt="⛅ The Things Network" />
        <span>Learn</span>
      </h1>
    </div>
  </div>
  <div class="container-fluid ttn-container">
    <div class="row page-top-nav">
      <div class="col-sm-9">
        <ul>
          <li class="page-top-nav-crumb"><a href="http://www.thethingsnetwork.org/">Home</a></li>
          <li class="page-top-nav-crumb"><a href="/docs/">Learn</a></li>
                <li class=""><a href="/docs/devices/">Devices</a></li>
                <li class=""><a href="/docs/gateways/">Gateways</a></li>
                <li class=""><a href="/docs/network/">Network</a></li>
                <li class="active"><a href="/docs/applications/">Applications</a></li>
        </ul>
      </div>
      <div class="hidden-xs col-sm-3 text-right">
        <a href="https://github.com/TheThingsNetwork/docs/blob/master/_content/applications/cayenne/index.md" class="page-edit" data-proofer-ignore><i class="fa fa-github"></i> Edit <strong>index.md</strong></a>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3">
        <div class="panel page-side-nav page-affix">
          <div class="panel-body">
            <h5>Applications</h5>
            <ul>
              <li class=""><a href="/docs/applications/index.html">Overview</a>
            <ul>
                <li class=""><a href="/docs/applications/add.html">Add an Application</a>
                </li>
                <li class=""><a href="/docs/applications/options.html">Build an Application</a>
                </li>
                <li class=""><a href="/docs/applications/evrythng/">EVRYTHNG</a>
                </li>
            </ul>
              </li>
            <li class="page-side-nav-section"><span>APIs</span>
            <ul>
                <li class=""><a href="/docs/applications/apis.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/manager/">Application Manager</a>
                </li>
                <li class=""><a href="/docs/applications/mqtt/">MQTT</a>
                    <span class="label label-info">v2</span>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>SDKs & Libraries</span>
            <ul>
                <li class=""><a href="/docs/applications/sdks.html">Overview</a>
                </li>
                <li class=""><a href="/docs/applications/golang/">Go</a>
                    <span class="label label-info">v2</span>
                </li>
                <li class=""><a href="/docs/applications/java/">Java</a>
                </li>
                <li class=""><a href="/docs/applications/nodered/">Node-RED</a>
                    <span class="label label-info">v2</span>
                </li>
                <li class=""><a href="/docs/applications/nodejs/">Node.js</a>
                    <span class="label label-info">v2</span>
                </li>
            </ul>
            </li>
            <li class="page-side-nav-section"><span>Integrations</span>
            <ul>
                <li class=""><a href="/docs/applications/integrations.html">Overview</a>
                </li>
                <li class="active"><a href="/docs/applications/Cayenne/">Cayenne Integration</a>
                </li>
                <li class=""><a href="/docs/applications/http/">HTTP Integration</a>
                </li>
                <li class=""><a href="/docs/applications/opensensors/">OpenSensors Integration</a>
                </li>
                <li class=""><a href="/docs/applications/storage/">Storage Integration</a>
                </li>
            </ul>
            </li>
                <li class="page-side-nav-section"><span>Links <i class="fa fa-link"></i></span>
                  <ul>
                      <li class=""><a href="/docs/applications/../network/migrate.html">Migrate from Staging to Production</a></li>
                  </ul>
                </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-sm-7">
        <div class="panel">
          <div class="panel-body page-content">
            <h1 id="mydevices-cayenne">myDevices Cayenne</h1>
<!-- <img src="logo-cayenne.png" width="200"> -->
<p><a href="https://mydevices.com/">myDevices Cayenne</a> allows you to quickly design, prototype, and visualize IoT solutions. You can use Cayenne as a tool to visualize real-time and historical data, sent over The Things Network.</p>
<h2 id="change-the-payload-to-cayenne-lpp">Change the payload to Cayenne LPP</h2>
<p>In order to display your content in the Cayenne dashboard, the payload has to be encoded with the Cayenne Low Power Payload (LPP)</p>
<blockquote>
  <p>We need to send extra data for Cayenne to understand what data comes into their dashboard. Before we send the sensor data, we need to define what type of data it is. The first byte is the so-called <code class="highlighter-rouge">Channel ID</code>. The second byte explains the <code class="highlighter-rouge">Data Type</code>. The latter bytes contain the actual sensor values.
Please have a look <a href="https://mydevices.com/cayenne/docs/#lora-cayenne-low-power-payload"><strong>here</strong></a> to find more information on the <strong>Cayenne Low Power Payload (LPP)</strong>.</p>
</blockquote>
<h3 id="cayennelpp-class">CayenneLPP Class</h3>
<p>Documentation about altering your Arduino Sketch to encode data with <code class="highlighter-rouge">CayenneLPP</code> can be found <a href="https://www.thethingsnetwork.org/docs/devices/arduino/api/cayennelpp.html">here</a>.</p>
<p><em>Example code:</em></p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code><span class="nx">TheThingsNetwork</span> <span class="nx">ttn</span><span class="p">(</span><span class="nx">loraSerial</span><span class="p">,</span> <span class="nx">debugSerial</span><span class="p">,</span> <span class="nx">freqPlan</span><span class="p">);</span>
<span class="nx">CayenneLPP</span> <span class="nx">lpp</span><span class="p">(</span><span class="mi">51</span><span class="p">);</span>                    <span class="c1">// create a buffer of 51 bytes to store the payload</span>

<span class="nx">lpp</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>                           <span class="c1">// clear the buffer</span>
<span class="nx">lpp</span><span class="p">.</span><span class="nx">addTemperature</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">22.5</span><span class="p">);</span>           <span class="c1">// on channel 1, add temperature, value 22.5°C</span>
<span class="nx">lpp</span><span class="p">.</span><span class="nx">addBarometricPressure</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">1073.21</span><span class="p">);</span> <span class="c1">// channel 2, pressure</span>
<span class="nx">lpp</span><span class="p">.</span><span class="nx">addGPS</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">52.37365</span><span class="p">,</span> <span class="mf">4.88650</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>   <span class="c1">// channel 3, coordinates</span>

<span class="nx">ttn</span><span class="p">.</span><span class="nx">sendBytes</span><span class="p">(</span><span class="nx">lpp</span><span class="p">.</span><span class="nx">getBuffer</span><span class="p">(),</span> <span class="nx">lpp</span><span class="p">.</span><span class="nx">getSize</span><span class="p">());</span>
</code></pre>
</div>
<h3 id="contact-your-device">Contact your device</h3>
<p>In order to send data to your device, you first need to “open” a channel. For that, send a packet saying that an <code class="highlighter-rouge">Output</code> is available, you only need to do that once. Both digital and analog are available.</p>
<div class="language-js highlighter-rouge"><pre class="highlight"><code>  <span class="nx">lpp</span><span class="p">.</span><span class="nx">addDigitalOutput</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
  <span class="c1">//or</span>
  <span class="nx">lpp</span><span class="p">.</span><span class="nx">addAnalogOutput</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">120.0</span><span class="p">);</span>
</code></pre>
</div>
<p>An action button will then appear on your dashboard; Now you can send data to your device with a click!</p>
<p>Be aware, the data sent by the dashboard will arrive on the same channel as the <code class="highlighter-rouge">Output</code> but will be tagged as <code class="highlighter-rouge">Input</code>.</p>
<h3 id="set-the-payload-format-in-the-console">Set the Payload Format in the Console</h3>
<p>After encoding data with CayenneLPP, have a look at the console to change the <strong>Payload Formats</strong></p>
<ul>
  <li>Go to your Application in <a href="https://console.thethingsnetwork.org/"><strong>The Things Network Console</strong></a> and click <strong>Payload Formats</strong></li>
  <li>In the dropdown menu select <strong>Cayenne LPP</strong> instead of <strong>Custom</strong></li>
</ul>
<h2 id="set-up-your-mydevices-account">Set up your myDevices account</h2>
<ol>
  <li>Create an account on <a href="https://mydevices.com/">myDevices</a></li>
  <li>
    <p>Log-in and click on <strong>LoRa</strong></p>
    <p><img src="myDevices-lora.png" width="130" /></p>
  </li>
  <li>Select <strong>The Things Network</strong> at the bottom of the left menu bar, click on <strong>Cayenne LPP</strong> and fill in your <strong>DevEUI</strong> of your device (which you can find in the <a href="https://console.thethingsnetwork.org/applications"><strong>Console</strong></a>)
<img src="cayenne-add-device.png" alt="add-device" /></li>
</ol>
<h2 id="add-the-mydevices-cayenne-integration-in-the-console">Add the myDevices Cayenne integration in the Console</h2>
<ol>
  <li>
    <p>Go to your application in the <a href="https://console.thethingsnetwork.org/applications"><strong>Console</strong></a> and add the Cayenne integration via <strong>Add Integration</strong>
 <img src="integrations.png" alt="myDevices-dashboard" /></p>
  </li>
  <li>You can find your <strong>Process ID</strong> in the URL of the myDevices Cayenne dashboard, starting after <code class="highlighter-rouge">/lora/</code></li>
  <li>Add the integration</li>
</ol>
<h2 id="build-your-cayenne-dashboard">Build your Cayenne dashboard</h2>
<p>Click the device on the left side of your dashboard in Cayenne and your data as well as the actions buttons are shown right away. After a bit of editing you can make quite some fancy stuff.</p>
<p><img src="mydevices-data.png" alt="myDevices-dashboard" /></p>
<p>🎉 Now impress some folks with this amazing dashboard you built on Twitter, using <em>@thethingsntwrk @CayenneIoT</em></p>
          </div>
        </div>
      </div>
      <div class="hidden-xs col-sm-2">
        <div class="page-toc page-affix"></div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>
<script src="/docs/assets/js/page.js"></script>
    </div>
    <script src="https://www.thethingsnetwork.org/navbar.js"></script>
    <script src="https://ttnstaticfile.blob.core.windows.net/static/common/js/ga.js"></script>
  </body>
</html>
