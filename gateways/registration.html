<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="stylesheet" href="/docs/assets/css/main.css" />
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
    (function(canonical) {
      if (document.location.href.substr(0, document.location.href.length - document.location.hash.length) !== canonical) {
        window.location.replace(canonical);
      }
    })('https://www.thethingsnetwork.org/docs/gateways/registration.html');
    </script>
    <!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Gateway Registration - The Things Network</title>
<meta property="og:title" content="Gateway Registration" />
<meta name="description" content="Gateway Registration" />
<meta property="og:description" content="Gateway Registration" />
<link rel="canonical" href="https://www.thethingsnetwork.org/docs/gateways/registration.html" />
<meta property="og:url" content="https://www.thethingsnetwork.org/docs/gateways/registration.html" />
<meta property="og:site_name" content="The Things Network" />
<meta property="og:image" content="https://www.thethingsnetwork.org/docs/assets/images/og-image.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-05-11T10:03:47+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@thethingsnetwrk" />
<meta property="article:publisher" content="https://www.facebook.com/thethingsnetwork" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Gateway Registration",
"image": "https://www.thethingsnetwork.org/docs/assets/images/og-image.png",
"datePublished": "2017-05-11T10:03:47+00:00",
"description": "Gateway Registration",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png"}},
"url": "https://www.thethingsnetwork.org/docs/gateways/registration.html"}</script>
<!-- End Jekyll SEO tag -->
    <link rel="apple-touch-icon-precomposed" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png">
    <meta name="msapplication-TileColor" content="#FFFFFF">
    <meta name="msapplication-TileImage" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png">
    <meta name="application-name" content="The Things Network">
    <meta name="msapplication-tooltip" content="Building a Global Internet of Things Network Together.">
    <meta name="msapplication-config" content="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/ieconfig.xml">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-32.png" sizes="32x32">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-57.png" sizes="57x57">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-76.png" sizes="76x76">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-96.png" sizes="96x96">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-120.png" sizes="120x120">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-128.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-144.png" sizes="144x144">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-152.png" sizes="152x152">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-180.png" sizes="180x180">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-195.png" sizes="195x195">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-228.png" sizes="228x228">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/smalltile.png" sizes="128x128">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/mediumtile.png" sizes="270x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/widetile.png" sizes="558x270">
    <link rel="icon" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/largetile.png" sizes="558x558">
    <link rel="shortcut icon" sizes="196x196" href="https://ttnstaticfile.blob.core.windows.net/static/common/favicon/favicon-196.png">
    <script src="/docs/assets/js/main.js"></script>
  </head>
  <body>
    <div id="content">
<div class="layout-page">
  <div class="ttn-header ttn-header-small">
    <div class="ttn-container container-fluid">
      <h1>
        <img src="/docs/assets/images/the-things-white.png" alt="⛅ The Things Network" />
        <span>Learn</span>
      </h1>
    </div>
  </div>
  <div class="container-fluid ttn-container">
    <div class="row page-top-nav">
      <div class="col-sm-9">
        <ul>
          <li class="page-top-nav-crumb"><a href="http://www.thethingsnetwork.org/">Home</a></li>
          <li class="page-top-nav-crumb"><a href="/docs/">Learn</a></li>
                <li class=""><a href="/docs/devices/">Devices</a></li>
                <li class="active"><a href="/docs/gateways/">Gateways</a></li>
                <li class=""><a href="/docs/network/">Network</a></li>
                <li class=""><a href="/docs/applications/">Applications</a></li>
        </ul>
      </div>
      <div class="hidden-xs col-sm-3 text-right">
        <a href="https://github.com/TheThingsNetwork/docs/edit/master/_content/gateways/registration.md" class="page-edit" data-proofer-ignore><i class="fa fa-github"></i> Edit <strong>registration.md</strong></a>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-3">
        <div class="panel page-side-nav page-affix">
          <div class="panel-body">
            <h5>Gateways</h5>
            <ul>
              <li class=""><a href="/docs/gateways/index.html">Overview</a>
            <ul>
                <li class="active"><a href="/docs/gateways/registration.html">Gateway Registration</a>
                </li>
                <li class=""><a href="/docs/gateways/troubleshooting.html">Troubleshooting</a>
                </li>
            </ul>
              </li>
            <li class="page-side-nav-section"><span>Hardware</span>
            <ul>
                <li class=""><a href="/docs/gateways/gateway/">The Things Gateway</a>
                </li>
                <li class=""><a href="/docs/gateways/multitech/">MultiTech Conduit</a>
                </li>
                <li class=""><a href="/docs/gateways/kerlink/">Kerlink LoRa IoT Station</a>
                </li>
                <li class=""><a href="/docs/gateways/lorrier/">Lorrier LR2</a>
                </li>
            </ul>
            </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-sm-7">
        <div class="panel">
          <div class="panel-body page-content">
            <h1 id="gateway-registration">Gateway Registration</h1>
<p>There are mainly two types of packet forwarders that can be running on your gateway, namely <a href="https://github.com/TheThingsNetwork/packet_forwarder/tree/master">TTN Packet Forwarder</a> or <a href="https://github.com/TheThingsNetwork/packet_forwarder/tree/legacy">UDP Packet Forwarder</a> (also known as the Semtech Packet Forwarder or Poly Packet Forwarder).</p>
<p>Please read this guide carefully to understand how to register your gateway with The Things Network.</p>
<blockquote>
  <p>If you have an off-the-shelf gateway with the default software, it most likely uses the UDP Packet Forwarder. Follow the steps for connecting using the <a href="#via-udp-packet-forwarder">UDP Packet Forwarder</a>.</p>
</blockquote>
<h2 id="via-ttn-packet-forwarder">Via TTN Packet Forwarder</h2>
<p>The Things Network Packet Forwarder uses an authenticated and encrypted TCP connection to our network server and has support for Kerlink, Multitech and other Linux based gateways. This is the preferred packet forwarder to use with The Things Network.</p>
<h3 id="start-with-registration">Start with Registration</h3>
<p>You start by <a href="https://console.thethingsnetwork.org/gateways/register">registering your gateway</a> in the Console.</p>
<p><img src="registration-connector.png" alt="Registration for Gateway Connector" /></p>
<ul>
  <li>For <strong>Protocol</strong>, leave <strong>gateway connector</strong> selected.</li>
  <li>For <strong>Gateway ID</strong>, choose a unique ID of lower case, alphanumeric characters and nonconsecutive <code class="highlighter-rouge">-</code> and <code class="highlighter-rouge">_</code>.</li>
  <li>Select the frequency plan (<a href="https://www.thethingsnetwork.org/wiki/LoRaWAN/Frequencies/By-Country">determined by your region</a>) the gateway uses.</li>
  <li>Click to drop the pin at the exact location (pan and zoom in before you drop).</li>
  <li>
    <p>Click <strong>Register Gateway</strong> to finish.</p>
    <p>This will take you to the Gateway’s screen where you’ll find the generated <strong>Gateway Key</strong> you need next.</p>
  </li>
</ul>
<blockquote>
  <p>After registering the gateway, select <strong>Settings</strong> from the top right menu on the Gateway screen so set the gateway description, location altitude, privacy settings and other information.</p>
</blockquote>
<h3 id="configure-gateway-with-ttn-packet-forwarder">Configure gateway with TTN Packet Forwarder</h3>
<p>Make sure your gateway runs <a href="https://github.com/TheThingsNetwork/packet_forwarder/tree/master">The Things Network Packet Forwarder</a> before you continue. Then configure it with the ID and Key from the registration on the console. This allows you to manage most of the gateway’s configuration from the Console, without having to log on to the gateway.</p>
<blockquote>
  <p>If your gateway does not have a GPS module we advise you not to configure a manual location in the gateway. Do this in the Console instead so that you can change it without accessing the gateway.</p>
</blockquote>
<h2 id="via-udp-packet-forwarder">Via UDP Packet Forwarder</h2>
<p>The UDP Packet Forwarder is deprecated, but will still be supported by TTN. We advise you to upgrade to the TTN Packet Forwarder.</p>
<h3 id="start-with-configuration">Start with Configuration</h3>
<p>Follow your gateway’s manual to configure it to forward packets to The Things Network. Configure it to forward to the correct <a href="https://www.thethingsnetwork.org/wiki/Backend/Connect/Gateway#connect-a-gateway_server-addresses">router address</a> for <a href="https://www.thethingsnetwork.org/wiki/LoRaWAN/Frequencies/By-Country">your region</a>. The guide should also help you set or retrieve the gateway’s EUI, likely the MAC address of the LoRa module which looks like <code class="highlighter-rouge">B827EBFFFE87BD11</code>.</p>
<p>You will likely also need the <code class="highlighter-rouge">global_conf.json</code> file for the frequency plan used in your region. You can find it on <a href="https://github.com/TheThingsNetwork/gateway-conf">our github repo</a>.</p>
<blockquote>
  <p>If your gateway does not have a GPS module we advise you not to configure a manual location in the gateway. Do this in the Console instead so that you can change it without accessing the gateway.</p>
</blockquote>
<h3 id="packet-forwarder-bridge">Packet Forwarder Bridge</h3>
<p>We have a special bridge in place that will continue to accept packages from gateways using the UDP Packet Forwarder. It will lowercase the EUI and prefix it with <code class="highlighter-rouge">eui-</code>. So a gateway with EUI <code class="highlighter-rouge">B827EBFFFE87BD11</code> will appear in meta data and APIs as <code class="highlighter-rouge">eui-b827ebfffe87bd11</code>.</p>
<h3 id="register">Register</h3>
<p><a href="https://console.thethingsnetwork.org/gateways/register">Register your gateway</a> via the console. This will link it to your account so that you can manage it.</p>
<p><img src="registration-bridge.png" alt="Registration for Packet Forwarder Bridge" /></p>
<ul>
  <li>For <strong>Protocol</strong>, select <strong>packet forwarder</strong>.</li>
  <li>For <strong>Gateway EUI</strong>, paste your gateway’s EUI (8 bytes).</li>
  <li>Select the frequency plan (<a href="https://www.thethingsnetwork.org/wiki/LoRaWAN/Frequencies/By-Country">determined by your region</a>) the gateway uses.</li>
  <li>Click to drop the pin at the exact location (pan and zoom in before you drop).</li>
</ul>
<blockquote>
  <p>After registering the gateway, select <strong>Settings</strong> from the top right menu on the Gateway screen so set the gateway description, location altitude, privacy settings and other information.</p>
</blockquote>
<h3 id="unregistered-gateways">Unregistered Gateways</h3>
<p>If you don’t register your gateway, The Things Network will still accept packets it forwards, but mark them as <strong>untrusted</strong>. The gateway will appear on the <a href="https://www.thethingsnetwork.org/map">map</a> as <strong>Unregistered</strong>. You will not be able to manage its configuration (e.g. location) from the Console.</p>
<h2 id="troubleshooting--faq">Troubleshooting &amp; FAQ</h2>
<h3 id="could-not-register-gateway">Could not register gateway</h3>
<p>If you return to the Gateways screen without seeing the newly registered gateway you will probably also see the following error on the top right:</p>
<p><img src="registration-error.png" alt="Registration Error" /></p>
<p>This means someone else already registered this Gateway ID or EUI. If you registered to use TTN Packet Forwarder, simply think of a new ID. If you registered to use the UDP Packet Forwarder, check the manual of your gateway to see if you can configure it with a <a href="https://www.randomlists.com/string?length=16">different (random) EUI</a>.</p>
<h3 id="how-can-i-switch-from-the-udp-packet-forwarder-to-ttn-packet-forwarder">How can I switch from the UDP Packet Forwarder to TTN Packet Forwarder?</h3>
<p>You just need to install <a href="https://github.com/TheThingsNetwork/packet_forwarder/tree/master">TTN Packet Forwarder</a> on your gateway and configure it with the gateway ID and Key as listed on the console.</p>
          </div>
        </div>
      </div>
      <div class="hidden-xs col-sm-2">
        <div class="page-toc page-affix"></div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="lightbox" tabindex="-1" role="dialog">
  <div class="modal-dialog text-center" role="document" style="width:auto;padding:20px;">
    <a href="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png"><img class="modal-content modal-body" src="https://ttnstaticfile.blob.core.windows.net/static/ttn/media/logo/ttn-logo.png" alt="Zoom" /></a>
  </div>
</div>
<script src="/docs/assets/js/page.js"></script>
    </div>
    <script src="https://www.thethingsnetwork.org/navbar.js"></script>
    <script src="https://ttnstaticfile.blob.core.windows.net/static/common/js/ga.js"></script>
  </body>
</html>
